!function(e){function t(t){for(var a,l,i=t[0],c=t[1],s=t[2],f=0,d=[];f<i.length;f++)l=i[f],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={0:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;o.push([43,1]),n()}({34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o),i=n(3),c=n(16),s=n(13),u=n(12),f="VALIDATION",d="INCREASE_POINTS",m="RESET_POINTS",p="LEVEL_UP",y="LEVEL_ALERT",v="ADD_WORD_TO_SAY",h="RESET_GAME",b="SET_CONFIRMATION",E=function(e){return{type:f,payload:e}},w=function(e){return{type:y,payload:e}},O=function(e){return{type:p,payload:e}},T=function(e){return{type:b,payload:e}},k=(n(34),n(4)),g=k.a,j={resetGame:function(e){return{type:h,payload:e}},setConfirmation:T},S=Object(i.b)(null,j)((function(e){Object(a.useEffect)((function(){e.setConfirmation(!1),e.resetGame()}),[]);var t=Object(a.useRef)(null),n=Object(a.useRef)(null),o=Object(a.useRef)(null),l=Object(a.useRef)(null);return Object(a.useEffect)((function(){g.fromTo(t,.8,{x:-200,opacity:0,display:"none"},{x:0,opacity:1,display:"block"}),g.fromTo(n,.8,{height:"10%",display:"none"},{height:"60%",display:"flex"}),g.fromTo(o,.8,{y:-200,opacity:0,display:"none"},{y:0,opacity:1,display:"flex",delay:-.2}),g.fromTo(l,.8,{x:-200,opacity:0,display:"none"},{x:0,opacity:1,display:"flex",delay:-.2})}),[]),r.a.createElement("main",{id:"home",className:"main"},r.a.createElement("section",{className:"section--home"},r.a.createElement("div",{className:"section--title-wrap"},r.a.createElement("div",{id:"titleWrap",className:"section__div--title",ref:function(e){n=e}},r.a.createElement("h1",{ref:function(e){t=e}},"PRONUNCIATION")),r.a.createElement("div",{id:"subTitle",className:"section__div--subtitle",ref:function(e){o=e}},r.a.createElement("h3",null,"Learning and speaking"))),r.a.createElement("div",{className:"section--play-wrap"},r.a.createElement(s.b,{to:"/game",className:"section__div--play",ref:function(e){l=e}},r.a.createElement("h3",null,"Start to learn")))))})),N=(n(36),k.a),x=Object(i.b)((function(e){return{points:e.points}}),null)((function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){N.fromTo(t,1,{x:-200,opacity:0},{x:0,opacity:1,delay:.6})}),[]),r.a.createElement("div",{className:"play--points",ref:function(e){t=e}},r.a.createElement("div",{className:"play--points-word"},r.a.createElement("h3",null,"Points")),r.a.createElement("div",{className:"play--points-number"},r.a.createElement("h3",{id:"points"},e.points)))})),P=(n(37),k.a),_={validation:E},R=Object(i.b)((function(e){return{matched:e.matched,wordToSay:e.word}}),_)((function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),o=(Object(a.useRef)(null),Object(a.useRef)(null)),l="";!1===e.matched&&(l="wrong",setTimeout((function(){l="",e.validation(null)}),2e3)),Object(a.useEffect)((function(){e.matched&&(P.fromTo(t,.8,{display:"none"},{display:"block"}),P.fromTo(t,.2,{display:"block"},{display:"none",delay:1}),setTimeout((function(){return e.validation(null)}),2e3))}),[e.matched]),Object(a.useEffect)((function(){P.fromTo(n,1,{x:-200,opacity:0},{x:0,opacity:1,delay:.4})}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"play--word",ref:function(e){n=e}},r.a.createElement("div",{className:"play--word-match",ref:function(e){t=e}}),r.a.createElement("h2",{id:"words",className:l,ref:function(e){e}},e.wordToSay),r.a.createElement("div",{className:"icon-wrap",ref:function(e){o=e}},r.a.createElement("i",{id:"listenMe",className:"icon",onClick:function(){return P.fromTo(o,1,{background:"transparent"},{background:"#FF8080"}),e.read(e.wordToSay),void P.fromTo(o,1,{background:"#FF8080"},{background:"transparent",delay:1})}}))))})),L=(n(38),k.a),C=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null);return Object(a.useEffect)((function(){L.fromTo(t,1,{opacity:0},{opacity:1,delay:.8})}),[]),r.a.createElement("div",{id:"speak",className:"play--speak",ref:function(e){t=e},onClick:function(){return e.start(n,t),void e.end(n,t)}},r.a.createElement("h4",{id:"speak-button",ref:function(e){n=e}},"Press to speak"))},I=(n(39),k.a),A=Object(i.b)((function(e){return{level:e.level}}),null)((function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){I.fromTo(t,1,{x:-200,opacity:0},{x:0,opacity:1})}),[]),r.a.createElement("div",{className:"play--level",ref:function(e){t=e}},r.a.createElement("h3",null,"Level"),r.a.createElement("h3",{id:"level"},e.level))})),F=(n(40),k.a),V={setConfirmation:T,levelAlert:w},W=Object(i.b)((function(e){return{confirmation:e.confirmation}}),V)((function(e){var t=document.getElementById("confirmation-modal"),n=Object(a.useRef)(null),o=function(){t.style.display="none"};return r.a.useEffect((function(){e.levelAlert(!1),F.fromTo(t,.1,{display:"none",opacity:0},{display:"flex",opacity:1}),F.fromTo(n,1,{y:150},{y:0})}),[]),l.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"confirmation-modal",ref:function(e){n=e}},r.a.createElement("div",{className:"text-wrap"},r.a.createElement("h2",null,"Are you sure do you want to leave?"),r.a.createElement("h4",null,"You are about to lose your progress")),r.a.createElement("div",{className:"button-wrap"},r.a.createElement("div",{className:"button-no",onClick:function(){e.setConfirmation(!1),o(),e.levelAlert(!0)}},r.a.createElement("h3",null,"No")),r.a.createElement(s.b,{className:"button-yes",onClick:function(){o()},to:"/"},r.a.createElement("h3",null,"Yes"))))),document.getElementById("confirmation-modal"))})),D=n(26),M=n.n(D);n(41);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var B=k.a,G={levelUp:O,levelAlert:w,setConfirmation:T},Y=Object(i.b)((function(e){return{level:e.level,confirmation:e.confirmation}}),G)((function(e){var t=document.getElementById("level-modal"),n=Object(a.useRef)(null),o=U(r.a.useState(!1),2),i=o[0],c=o[1],s=function(){n.style.display="none",t.style.display="none"},u=function(){e.setConfirmation(!0),s()},f=M()({"play--level-modal":!0,next:i});return Object(a.useEffect)((function(){B.fromTo(t,.6,{display:"none"},{display:"flex"}),B.fromTo(n,.6,{display:"none",opacity:0,x:-120},{display:"flex",opacity:1,x:0})}),[]),l.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:f,ref:function(e){n=e}},r.a.createElement("div",{className:"level-modal--wrap"},r.a.createElement("div",{onClick:function(){s(),u()}},r.a.createElement("div",{className:"level-modal--return"})),r.a.createElement("h2",null,"Level complete"),r.a.createElement("h4",null,"It was amazing"),r.a.createElement("div",{className:"buttons-wrap"},r.a.createElement("div",{className:"back-home",onClick:function(){s(),u()}},r.a.createElement("h3",null,"Back Home")),r.a.createElement("div",{className:"next-level"},r.a.createElement("h3",{onClick:function(){e.levelUp(),e.start,c(!0),setTimeout((function(){c(!1),e.levelAlert(!1)}),1200),s()}},"Next Level")))))),document.getElementById("level-modal"))})),X=(n(42),Object(i.b)((function(e){return{nextLevel:e.nextLevel,confirmation:e.confirmation}}),null)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"section__play-wrap"},r.a.createElement("main",{id:"game",className:"section--play"},r.a.createElement(A,null),r.a.createElement(R,{read:e.read}),r.a.createElement(x,null),r.a.createElement(C,{start:e.speakStart,end:e.speakEnd}),e.nextLevel&&r.a.createElement(Y,{start:e.again}),e.confirmation&&r.a.createElement(W,null))))})));function J(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var H=window.SpeechRecognition||window.webkitSpeechRecognition,z=z||webkitSpeechGrammarList,q=new H,K=new z;q.lang="en-US",K.addFromString("#JSGF V1.0",1),q.grammars=K,q.interimResults=!1;var Q={validation:E,increasePoints:function(e){return{type:d,payload:e}},resetPoints:function(e){return{type:m,payload:e}},levelAlert:w,levelUp:O,addWordToSay:function(e){return{type:v,payload:e}}},Z=Object(i.b)((function(e){return{words:e.words}}),Q)((function(e){var t=e.words,n=new(function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.words=e,this.previous=[],this.points=0,this.level=0,this.subLevel=6,this.startSpeak=this.startSpeak.bind(this),this.readOut=this.readOut.bind(this)}var n,a,r;return n=t,(a=[{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.level;if(0===this.points)this.numberWords=this.words[t].length,this.number=Math.floor(Math.random()*this.numberWords),this.previousNumber(this.number),this.wordToSay=this.numberToWord(this.number,t),e.addWordToSay(this.wordToSay),this.preValidation(this.wordToSay);else{this.numberWords=this.words[t].length,this.number=Math.floor(Math.random()*this.numberWords);var n=this.noRepeat(this.number,this.previous);this.previousNumber(n),this.wordToSay=this.numberToWord(n,t),e.addWordToSay(this.wordToSay),this.preValidation(this.wordToSay)}}},{key:"speakEnd",value:function(e,t){q.onspeechend=function(){q.stop(),e.textContent="Press to speak",e.style.color="#1FAB89",t.style.background="#FFF"}}},{key:"previousNumber",value:function(e){this.previous.push(e)}},{key:"noRepeat",value:function(e,t){var n=function(e,t){return e.find((function(e){return e==t}))>=0};if(t.length>=1){if(n(t,e)){do{this.number=Math.floor(Math.random()*this.numberWords);var a=n(t,this.number)}while(a);return this.number}return this.number}}},{key:"startSpeak",value:function(e,t){try{q.start()}catch(e){}e.textContent="Listening to you",e.style.color="#FF8080",t.style.background="#C6F1D6"}},{key:"numberToWord",value:function(e,t){switch(e){case e:return this.words[t][e]}}},{key:"readOut",value:function(e){var t=new SpeechSynthesisUtterance;t.text=e,t.lang="en-US",t.volume=1,t.rate=.5,t.pitch=.5,window.speechSynthesis.speak(t)}},{key:"resetPrevious",value:function(){this.previous=[]}},{key:"resetPoints",value:function(){this.points=0,e.resetPoints()}},{key:"preValidation",value:function(e){this.wordToValidate=e.toLowerCase(),this.onResult(this.wordToValidate,this)}},{key:"saidToValidate",value:function(e){return e.toLowerCase()}},{key:"pointsUp",value:function(){this.points++,e.increasePoints()}},{key:"increaseLevel",value:function(){this.level++}},{key:"onResult",value:function(e,t){q.onresult=function(n){var a=n.resultIndex,r=n.results[a][0].transcript,o=e,l=t.saidToValidate(r);t.resultToValidate(l,o)}}},{key:"resultToValidate",value:function(e,t){E(e)}},{key:"validation",value:function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.wordToValidate;t==a?(this.pointsUp(),e.validation(!0),setTimeout((function(){n.points<n.subLevel?n.start(n.level):(e.levelAlert(!0),n.increaseLevel(),n.resetPrevious(),n.resetPoints(),n.subLevel++,n.start(n.level))}),1e3)):e.validation(!1)}}])&&J(n.prototype,a),r&&J(n,r),t}())(t);n.start();var a={word:n.wordToSay,points:n.points,level:n.level},o={read:n.readOut,speak:n.startSpeak,speakEnd:n.speakEnd};return r.a.createElement(X,{word:a.word,read:o.read,speakStart:o.speak,speakEnd:o.speakEnd})})),$=function(){return r.a.createElement(s.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:S}),r.a.createElement(u.a,{exact:!0,path:"/game",component:Z})))};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e,t){switch(t.type){case f:return te({},e,{matched:t.payload});case d:return te({},e,{points:e.points+1});case m:return te({},e,{points:0});case p:return te({},e,{level:e.level+1});case y:return te({},e,{nextLevel:t.payload});case v:return te({},e,{word:e.word=t.payload});case h:return te({},e,{word:e.word="",points:e.points=0,level:e.level=0,nextLevel:e.nextLevel=!1});case b:return te({},e,{confirmation:e.confirmation=t.payload});default:return e}},re={word:"",nextLevel:!1,level:0,points:0,matched:null,confirmation:!1,words:[["Blue","Red","Yellow","Gray","Black","White","Purple","Orange","Brown"],["1","2","3","4","5","6","7","8","9","10"],["I","You","He","She","It","They","We"]]},oe=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),le=Object(c.b)(ae,re,oe);l.a.render(r.a.createElement(i.a,{store:le},r.a.createElement($,null)),document.getElementById("app"))}});